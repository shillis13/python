#!/usr/bin/env bash
# scripts/remove_flag - Remove flag from todo

usage() {
    cat << EOF
Usage: remove_flag FLAG_NAME [TODO_DIR]

Removes a flag file from a todo.

Arguments:
  FLAG_NAME   Flag name (without .flag extension)
  TODO_DIR    Todo directory (default: current directory)

Examples:
  remove_flag needs_testing
  remove_flag high_priority todo_fix_bug/
EOF
    exit 1
}

[[ $# -eq 0 ]] && usage

FLAG="$1"
TODO_DIR="${2:-.}"

if [[ ! -d "$TODO_DIR" ]]; then
    echo "Error: Todo directory not found: $TODO_DIR"
    exit 1
fi

if [[ ! -f "$TODO_DIR/${FLAG}.flag" ]]; then
    echo "Warning: Flag '$FLAG' not found in $TODO_DIR"
    exit 0
fi

rm -f "$TODO_DIR/${FLAG}.flag"
echo "âœ“ Removed flag: $FLAG"
echo "  Location: $TODO_DIR"
