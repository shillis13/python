#!/usr/bin/env bash
# scripts/add_tag - Add tag to todo

usage() {
    cat << EOF
Usage: add_tag TAG_NAME [TODO_DIR]

Adds a tag file to a todo.

Common tags:
  orchestrator, puppeteer, bugfix, infrastructure,
  cli_coordination, memory_system

Arguments:
  TAG_NAME    Tag name (without .tag extension)
  TODO_DIR    Todo directory (default: current directory)

Examples:
  add_tag orchestrator
  add_tag puppeteer todo_fix_bug/
  cd todo_setup && add_tag infrastructure
EOF
    exit 1
}

[[ $# -eq 0 ]] && usage

TAG="$1"
TODO_DIR="${2:-.}"

if [[ ! -d "$TODO_DIR" ]]; then
    echo "Error: Todo directory not found: $TODO_DIR"
    exit 1
fi

touch "$TODO_DIR/${TAG}.tag"
echo "âœ“ Added tag: $TAG"
echo "  Location: $TODO_DIR"
